import"../chunks/DsnmJJEf.js";import{p as U,c as V,f as v,a as g,d as s,s as n,b as m,n as l,r as a}from"../chunks/D3znixZ8.js";import{C as _}from"../chunks/rfrZqhID.js";import{g as X}from"../chunks/B65oWqjs.js";import{T as Z}from"../chunks/Ctlk7uKh.js";import{T as f,a as h}from"../chunks/CZCeDJzY.js";import{D as k}from"../chunks/EA4ja4HO.js";import{M as $}from"../chunks/BiG2KFlQ.js";import{T as H}from"../chunks/6M1jJKVC.js";var nn=v("<!> <p>Add the preprocessor, <!>, to <code>svelte.config.js</code>:</p> <!> <p>The preprocessor should run before other preprocessors like <code>vitePreprocess()</code> so it can parse the original Svelte source. The input to <!> is <!>.</p>",1),sn=v("<!> <p>The preprocessor transforms static content at build time:</p> <!> <p>For ternary expressions with static branches, it generates Svelte control flow:</p> <!> <p>The preprocessor also manages imports automatically:</p> <ul><li>adds imports required by the rendered content (e.g., <!>, <code>Code</code>, <code>resolve</code>, configured components)</li> <li>removes the <!> import when all usages are transformed</li> <li>removes dead <code>const</code> bindings consumed only by transformed content</li></ul>",1),an=v("<!> <p>The preprocessor handles these static content patterns:</p> <ul><li>string attributes: <!></li> <li>JS string expressions: <!></li> <li>template literals without interpolation: <!></li> <li>const variable references: <!> <!></li> <li>ternary chains: <!></li> <li>nested ternaries: <!></li></ul>",1),tn=v("<!> <p>The preprocessor falls back to runtime rendering when:</p> <ul><li>the file is excluded via <code>exclude</code></li> <li>no matching import source is found for Mdz</li> <li>the import is <code>import type</code> (not a runtime import)</li> <li><!> is already imported from a different source</li> <li>the <code>content</code> prop is dynamic (variable, function call, <code>$state</code>, <code>$derived</code>)</li> <li>spread attributes are present (<code></code>)</li> <li>content references unconfigured components or elements</li> <li>a ternary branch has dynamic content or unconfigured tags</li></ul>",1),en=v(`<section><p><!> is a Svelte preprocessor that compiles static <!> content to Svelte markup at build time. Instead of parsing mdz at runtime and rendering dynamically,
			the preprocessor replaces the <!> component with <!> containing pre-rendered children.</p></section> <!> <!> <!> <!> <aside>See also <!> for the mdz format, <!> and <!> for full API docs.</aside>`,1);function vn(N,Y){U(Y,!0);const F=X("svelte_preprocess_mdz");Z(N,{get tome(){return F},children:(J,pn)=>{var M=en(),b=g(M),T=s(b),P=s(T);k(P,{name:"svelte_preprocess_mdz"});var S=n(P,2);H(S,{name:"mdz"});var A=n(S,2);k(A,{name:"Mdz"});var O=n(A,2);k(O,{name:"MdzPrecompiled"}),l(),a(T),a(b);var L=n(b,2);f(L,{children:(d,y)=>{var p=nn(),c=g(p);h(c,{text:"Setup"});var e=n(c,2),o=n(s(e));$(o,{module_path:"svelte_preprocess_mdz.ts"}),l(3),a(e);var r=n(e,2);_(r,{lang:"js",dangerous_raw_html:`<span class="token_special_keyword">import</span> <span class="token_punctuation">{</span>svelte_preprocess_mdz<span class="token_punctuation">}</span> <span class="token_special_keyword">from</span> <span class="token_string">'@fuzdev/fuz_ui/svelte_preprocess_mdz.js'</span><span class="token_punctuation">;</span>

<span class="token_special_keyword">export</span> <span class="token_special_keyword">default</span> <span class="token_punctuation">{</span>
  <span class="token_literal_property token_property">preprocess</span><span class="token_operator">:</span> <span class="token_punctuation">[</span>
    <span class="token_function">svelte_preprocess_mdz</span><span class="token_punctuation">(</span><span class="token_punctuation">{</span>
      <span class="token_literal_property token_property">components</span><span class="token_operator">:</span> <span class="token_punctuation">{</span><span class="token_capitalized_identifier token_class_name">Alert</span><span class="token_operator">:</span> <span class="token_string">'$lib/Alert.svelte'</span><span class="token_punctuation">}</span><span class="token_punctuation">,</span>
      <span class="token_literal_property token_property">elements</span><span class="token_operator">:</span> <span class="token_punctuation">[</span><span class="token_string">'aside'</span><span class="token_punctuation">,</span> <span class="token_string">'details'</span><span class="token_punctuation">]</span><span class="token_punctuation">,</span>
    <span class="token_punctuation">}</span><span class="token_punctuation">)</span><span class="token_punctuation">,</span>
    <span class="token_comment">// ...other preprocessors</span>
  <span class="token_punctuation">]</span><span class="token_punctuation">,</span>
<span class="token_punctuation">}</span><span class="token_punctuation">;</span>`});var t=n(r,2),i=n(s(t),3);k(i,{name:"svelte_preprocess_mdz"});var u=n(i,2);k(u,{name:"SveltePreprocessMdzOptions"}),l(),a(t),m(d,p)},$$slots:{default:!0}});var I=n(L,2);f(I,{children:(d,y)=>{var p=sn(),c=g(p);h(c,{text:"How it works"});var e=n(c,4);_(e,{dangerous_raw_html:`<span class="token_comment">&lt;!-- Before --></span>
<span class="token_tag"><span class="token_tag"><span class="token_punctuation token_tag_punctuation">&lt;</span>Mdz</span> <span class="token_attr_name">content</span><span class="token_attr_value"><span class="token_punctuation token_attr_equals">=</span><span class="token_punctuation token_attr_quote">"</span>**bold** and \`some_fn\`<span class="token_punctuation token_attr_quote">"</span></span> <span class="token_punctuation token_tag_punctuation">/></span></span>

<span class="token_comment">&lt;!-- After --></span>
<span class="token_tag"><span class="token_tag"><span class="token_punctuation token_tag_punctuation">&lt;</span>MdzPrecompiled</span><span class="token_punctuation token_tag_punctuation">></span></span><span class="token_tag"><span class="token_tag"><span class="token_punctuation token_tag_punctuation">&lt;</span>p</span><span class="token_punctuation token_tag_punctuation">></span></span><span class="token_tag"><span class="token_tag"><span class="token_punctuation token_tag_punctuation">&lt;</span>strong</span><span class="token_punctuation token_tag_punctuation">></span></span>bold<span class="token_tag"><span class="token_tag"><span class="token_punctuation token_tag_punctuation">&lt;/</span>strong</span><span class="token_punctuation token_tag_punctuation">></span></span> and <span class="token_tag"><span class="token_tag"><span class="token_punctuation token_tag_punctuation">&lt;</span>DocsLink</span> <span class="token_attr_name">reference=</span><span class="token_svelte_expression"><span class="token_punctuation">{</span><span class="token_lang_ts"><span class="token_string">'some_fn'</span></span><span class="token_punctuation">}</span></span> <span class="token_punctuation token_tag_punctuation">/></span></span><span class="token_tag"><span class="token_tag"><span class="token_punctuation token_tag_punctuation">&lt;/</span>p</span><span class="token_punctuation token_tag_punctuation">></span></span><span class="token_tag"><span class="token_tag"><span class="token_punctuation token_tag_punctuation">&lt;/</span>MdzPrecompiled</span><span class="token_punctuation token_tag_punctuation">></span></span>`});var o=n(e,4);_(o,{dangerous_raw_html:`<span class="token_comment">&lt;!-- Before --></span>
<span class="token_tag"><span class="token_tag"><span class="token_punctuation token_tag_punctuation">&lt;</span>Mdz</span> <span class="token_attr_name">content=</span><span class="token_svelte_expression"><span class="token_punctuation">{</span><span class="token_lang_ts">show <span class="token_operator">?</span> <span class="token_string">'**a**'</span> <span class="token_operator">:</span> <span class="token_string">'**b**'</span></span><span class="token_punctuation">}</span></span> <span class="token_punctuation token_tag_punctuation">/></span></span>

<span class="token_comment">&lt;!-- After --></span>
<span class="token_tag"><span class="token_tag"><span class="token_punctuation token_tag_punctuation">&lt;</span>MdzPrecompiled</span><span class="token_punctuation token_tag_punctuation">></span></span><span class="token_svelte_expression"><span class="token_block"><span class="token_punctuation">{</span><span class="token_special_keyword">#if</span><span class="token_lang_ts"> show</span><span class="token_punctuation">}</span></span></span><span class="token_tag"><span class="token_tag"><span class="token_punctuation token_tag_punctuation">&lt;</span>p</span><span class="token_punctuation token_tag_punctuation">></span></span><span class="token_tag"><span class="token_tag"><span class="token_punctuation token_tag_punctuation">&lt;</span>strong</span><span class="token_punctuation token_tag_punctuation">></span></span>a<span class="token_tag"><span class="token_tag"><span class="token_punctuation token_tag_punctuation">&lt;/</span>strong</span><span class="token_punctuation token_tag_punctuation">></span></span><span class="token_tag"><span class="token_tag"><span class="token_punctuation token_tag_punctuation">&lt;/</span>p</span><span class="token_punctuation token_tag_punctuation">></span></span><span class="token_svelte_expression"><span class="token_block"><span class="token_punctuation">{</span><span class="token_special_keyword">:else</span><span class="token_punctuation">}</span></span></span><span class="token_tag"><span class="token_tag"><span class="token_punctuation token_tag_punctuation">&lt;</span>p</span><span class="token_punctuation token_tag_punctuation">></span></span><span class="token_tag"><span class="token_tag"><span class="token_punctuation token_tag_punctuation">&lt;</span>strong</span><span class="token_punctuation token_tag_punctuation">></span></span>b<span class="token_tag"><span class="token_tag"><span class="token_punctuation token_tag_punctuation">&lt;/</span>strong</span><span class="token_punctuation token_tag_punctuation">></span></span><span class="token_tag"><span class="token_tag"><span class="token_punctuation token_tag_punctuation">&lt;/</span>p</span><span class="token_punctuation token_tag_punctuation">></span></span><span class="token_svelte_expression"><span class="token_block"><span class="token_punctuation">{</span><span class="token_special_keyword">/if</span><span class="token_punctuation">}</span></span></span><span class="token_tag"><span class="token_tag"><span class="token_punctuation token_tag_punctuation">&lt;/</span>MdzPrecompiled</span><span class="token_punctuation token_tag_punctuation">></span></span>`});var r=n(o,4),t=s(r),i=n(s(t));k(i,{name:"DocsLink"}),l(5),a(t);var u=n(t,2),z=n(s(u));k(z,{name:"Mdz"}),l(),a(u),l(2),a(r),m(d,p)},$$slots:{default:!0}});var C=n(I,2);f(C,{children:(d,y)=>{var p=an(),c=g(p);h(c,{text:"What gets transformed"});var e=n(c,4),o=s(e),r=n(s(o));_(r,{inline:!0,content:'content="**bold**"'}),a(o);var t=n(o,2),i=n(s(t));_(i,{inline:!0,dangerous_raw_html:`content=<span class="token_svelte_expression"><span class="token_punctuation">{</span><span class="token_lang_ts"><span class="token_string">'**bold**'</span></span><span class="token_punctuation">}</span></span>`}),a(t);var u=n(t,2),z=n(s(u));_(z,{inline:!0,dangerous_raw_html:'content=<span class="token_svelte_expression"><span class="token_punctuation">{</span><span class="token_lang_ts"><span class="token_template_string"><span class="token_template_punctuation token_string">`</span><span class="token_string">**bold**</span><span class="token_template_punctuation token_string">`</span></span></span><span class="token_punctuation">}</span></span>'}),a(u);var w=n(u,2),R=n(s(w));_(R,{inline:!0,lang:"ts",dangerous_raw_html:`<span class="token_keyword">const</span> msg <span class="token_operator">=</span> <span class="token_string">'**bold**'</span><span class="token_punctuation">;</span>`});var G=n(R,2);_(G,{inline:!0,dangerous_raw_html:'content=<span class="token_svelte_expression"><span class="token_punctuation">{</span><span class="token_lang_ts">msg</span><span class="token_punctuation">}</span></span>'}),a(w);var x=n(w,2),K=n(s(x));_(K,{inline:!0,dangerous_raw_html:`content=<span class="token_svelte_expression"><span class="token_punctuation">{</span><span class="token_lang_ts">show <span class="token_operator">?</span> <span class="token_string">'**a**'</span> <span class="token_operator">:</span> <span class="token_string">'**b**'</span></span><span class="token_punctuation">}</span></span>`}),a(x);var j=n(x,2),Q=n(s(j));_(Q,{inline:!0,dangerous_raw_html:`content=<span class="token_svelte_expression"><span class="token_punctuation">{</span><span class="token_lang_ts">a <span class="token_operator">?</span> <span class="token_string">'x'</span> <span class="token_operator">:</span> b <span class="token_operator">?</span> <span class="token_string">'y'</span> <span class="token_operator">:</span> <span class="token_string">'z'</span></span><span class="token_punctuation">}</span></span>`}),a(j),a(e),m(d,p)},$$slots:{default:!0}});var q=n(C,2);f(q,{children:(d,y)=>{var p=tn(),c=g(p);h(c,{text:"Skip conditions"});var e=n(c,4),o=n(s(e),6),r=s(o);k(r,{name:"MdzPrecompiled"}),l(),a(o);var t=n(o,4),i=n(s(t));i.textContent="{...props}",l(),a(t),l(4),a(e),m(d,p)},$$slots:{default:!0}});var B=n(q,2),D=n(s(B));H(D,{name:"mdz"});var E=n(D,2);$(E,{module_path:"svelte_preprocess_mdz.ts"});var W=n(E,2);$(W,{module_path:"mdz_to_svelte.ts"}),l(),a(B),m(J,M)},$$slots:{default:!0}}),V()}export{vn as component};
