import{J as C,aW as D,E as z,aX as W,aY as j,D as J,G as K,aZ as V,aU as X,I as Y,ai as N,a_ as G,a$ as Z,b0 as H,o as Q,ae as tt,q as m,A as M,z as R,b1 as at,B as rt,b2 as et,N as it,b3 as nt,v as ot,m as st,x as $,y,b4 as k}from"./D3znixZ8.js";const ft=()=>performance.now(),g={tick:t=>requestAnimationFrame(t),now:()=>ft(),tasks:new Set};function P(){const t=g.now();g.tasks.forEach(a=>{a.c(t)||(g.tasks.delete(a),a.f())}),g.tasks.size!==0&&g.tick(P)}function ut(t){let a;return g.tasks.size===0&&g.tick(P),{promise:new Promise(f=>{g.tasks.add(a={c:t,f})}),abort(){g.tasks.delete(a)}}}function x(t,a){G(()=>{t.dispatchEvent(new CustomEvent(a))})}function ct(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const a=t.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(f=>f[0].toUpperCase()+f.slice(1)).join("")}function L(t){const a={},f=t.split(";");for(const o of f){const[u,r]=o.split(":");if(!u||r===void 0)break;const s=ct(u.trim());a[s]=r.trim()}return a}const dt=t=>t;let U=null;function q(t){U=t}function lt(t,a,f){var o=U??C,u=o.nodes,r,s,i,l=null;u.a??={element:t,measure(){r=this.element.getBoundingClientRect()},apply(){if(i?.abort(),s=this.element.getBoundingClientRect(),r.left!==s.left||r.right!==s.right||r.top!==s.top||r.bottom!==s.bottom){const n=a()(this.element,{from:r,to:s},f?.());i=A(this.element,n,void 0,1,()=>{i?.abort(),i=void 0})}},fix(){if(!t.getAnimations().length){var{position:n,width:h,height:d}=getComputedStyle(t);if(n!=="absolute"&&n!=="fixed"){var e=t.style;l={position:e.position,width:e.width,height:e.height,transform:e.transform},e.position="absolute",e.width=h,e.height=d;var c=t.getBoundingClientRect();if(r.left!==c.left||r.top!==c.top){var v=`translate(${r.left-c.left}px, ${r.top-c.top}px)`;e.transform=e.transform?`${e.transform} ${v}`:v}}}},unfix(){if(l){var n=t.style;n.position=l.position,n.width=l.width,n.height=l.height,n.transform=l.transform}}},u.a.element=t}function ht(t,a,f,o){var u=(t&Z)!==0,r=(t&H)!==0,s=u&&r,i=(t&V)!==0,l=s?"both":u?"in":"out",n,h=a.inert,d=a.style.overflow,e,c;function v(){return G(()=>n??=f()(a,o?.()??{},{direction:l}))}var _={is_global:i,in(){if(a.inert=h,!u){c?.abort(),c?.reset?.();return}r||e?.abort(),e=A(a,v(),c,1,()=>{x(a,"introend"),e?.abort(),e=n=void 0,a.style.overflow=d})},out(E){if(!r){E?.(),n=void 0;return}a.inert=!0,c=A(a,v(),e,0,()=>{x(a,"outroend"),E?.()})},stop:()=>{e?.abort(),c?.abort()}},w=C;if((w.nodes.t??=[]).push(_),u&&D){var b=i;if(!b){for(var p=w.parent;p&&(p.f&z)!==0;)for(;(p=p.parent)&&(p.f&W)===0;);b=!p||(p.f&j)!==0}b&&J(()=>{K(()=>_.in())})}}function A(t,a,f,o,u){var r=o===1;if(X(a)){var s,i=!1;return Y(()=>{if(!i){var w=a({direction:r?"in":"out"});s=A(t,w,f,o,u)}}),{abort:()=>{i=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(f?.deactivate(),!a?.duration&&!a?.delay)return x(t,r?"introstart":"outrostart"),u(),{abort:N,deactivate:N,reset:N,t:()=>o};const{delay:l=0,css:n,tick:h,easing:d=dt}=a;var e=[];if(r&&f===void 0&&(h&&h(0,1),n)){var c=L(n(0,1));e.push(c,c)}var v=()=>1-o,_=t.animate(e,{duration:l,fill:"forwards"});return _.onfinish=()=>{_.cancel(),x(t,r?"introstart":"outrostart");var w=f?.t()??1-o;f?.abort();var b=o-w,p=a.duration*Math.abs(b),E=[];if(p>0){var F=!1;if(n)for(var I=Math.ceil(p/16.666666666666668),S=0;S<=I;S+=1){var O=w+b*d(S/I),B=L(n(O,1-O));E.push(B),F||=B.overflow==="hidden"}F&&(t.style.overflow="hidden"),v=()=>{var T=_.currentTime;return w+b*d(T/p)},h&&ut(()=>{if(_.playState!=="running")return!1;var T=v();return h(T,1-T),!0})}_=t.animate(E,{duration:p,fill:"forwards"}),_.onfinish=()=>{v=()=>o,h?.(o,1-o),u()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=N)},deactivate:()=>{u=N},reset:()=>{o===0&&h?.(1,0)},t:()=>v()}}function _t(t,a,f,o,u,r){let s=m;m&&M();var i=null;m&&R.nodeType===at&&(i=R,M());var l=m?R:t,n=C,h=new rt(l,!1);Q(()=>{const d=a()||null;var e=d==="svg"?et:null;if(d===null){h.ensure(null,null),k(!0);return}return h.ensure(d,c=>{if(d){if(i=m?i:e?document.createElementNS(e,d):document.createElement(d),it(i,i),o){m&&nt(d)&&i.append(document.createComment(""));var v=m?ot(i):i.appendChild(st());m&&(v===null?$(!1):y(v)),q(n),o(i,v),q(null)}C.nodes.end=i,c.before(i)}m&&y(c)}),k(!0),()=>{d&&k(!1)}},z),tt(()=>{k(!0)}),s&&($(!0),y(l))}export{lt as a,_t as e,ht as t};
